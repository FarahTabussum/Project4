<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project4</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/daisyui@latest/dist/full.css">
    <link rel="stylesheet" href="style/style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100..900&display=swap" rel="stylesheet">
</head>
<body class="font-poppins bg-gray-100 p-6">
    <!-- Alert -->
    <div id="alert-box" class="fixed top-0 left-1/2 transform -translate-x-1/2 w-1/5 h-28 bg-black text-white p-4 rounded-lg hidden shadow-lg flex justify-between items-center">
        <div>
            <p class="text-sm font-semibold">taskmeteer.netlify.app says</p>
            <p>Board Updated Successfully</p>
        </div>
        <button id="ok-btn" class="bg-indigo-500 text-white py-2 px-4 rounded-full cursor-pointer">OK</button>
    </div>

    <header class="bg-white shadow-md p-4 flex justify-between items-center rounded-lg">
        <div class="flex items-center space-x-2">
            <div>
                <img class="w-6" src="assets/logo.png">
            </div>
            <h1 class="text-xl text-gray-800">Dev<span class="font-bold">Board</span></h1>
        </div>
        <nav class="flex items-center space-x-4">
            <!-- Task Assigned -->
            <div class="flex items-center space-x-2 bg-gray-100 shadow-lg px-3 py-1 rounded-lg">
                <input type="checkbox" class="checkbox checkbox-primary" checked>
                <span class="font-semibold text-blue-600" id="task-assigned-count">23</span> <!-- Task Assigned -->
            </div>
            <!-- Task Count -->
            <div class="bg-gray-100 shadow-md h-10 w-10 p-2">
                <div id="color-change-button" class="w-7 h-6 bg-gradient-to-r from-pink-500 to-blue-500 rounded-full cursor-pointer">
                    <img class="border-dashed border-2 border-gray-800" src="assets/theme-btn.png">
                </div>
            </div>
        </nav>
    </header>

    <div class="mt-6 grid grid-cols-5 gap-6">
        <div class="col-span-4 divide-y divide-dashed ">
            <main class="grid grid-cols-3 gap-6 ">
                <aside class="bg-white p-4 rounded-lg shadow-md flex items-center justify-start gap-5">
                    <input type="checkbox" class="checkbox checkbox-primary my-3" checked>
                    <div>
                        <h2 class="font-semibold text-gray-600">Task Assigned</h2>
                        <p class="text-3xl font-bold text-gray-800" id="task-assigned-count">05</p> <!-- Task Assigned Count -->
                    </div>
                </aside>
                <div class="bg-gradient-to-r from-blue-700 to-blue-300 text-white p-4 rounded-lg shadow-md flex items-center justify-around">
                    <img src="assets/board.png">
                    <!-- <h2 class="font-semibold text-xl">Discover Something New Today!</h2> -->
                    <a href="page.html">
                        <h2 class="font-semibold text-xl">Discover Something New Today!</h2>
                    </a>
                </div>
                <div class="bg-white p-4 rounded-lg shadow-md flex items-center justify-around">
                    <img src="assets/calender.png" alt="Calendar" class="w-12 h-12">
                    <p class="text-lg font-semibold ml-2" id="current-date"></p>
                </div>
            </main>

            <section class="mt-6 grid grid-cols-3 gap-6">
                <!-- Task 1 -->
                <div class="bg-white p-4 rounded-lg shadow-md">
                    <h3 class="text-gray-700 font-semibold">Fix Mobile Button Issue</h3>
                    <p class="text-gray-500 text-sm">Debug using Chrome DevTools, check for overlapping...</p>
                    <p class="text-xs text-gray-400">Deadline: 21 March 2025</p>
                    <button class="btn btn-primary mt-2 w-full">Completed</button>
                </div>

                <!-- Task 2 -->
                <div class="bg-white p-4 rounded-lg shadow-md">
                    <h3 class="text-gray-700 font-semibold">Add Dark Mode</h3>
                    <p class="text-gray-500 text-sm">Store the user's preference in localStorage, update CSS...</p>
                    <p class="text-xs text-gray-400">Deadline: 21 March 2025</p>
                    <button class="btn btn-primary mt-2 w-full">Completed</button>
                </div>

                <!-- Task 3 -->
                <div class="bg-white p-4 rounded-lg shadow-md">
                    <h3 class="text-gray-700 font-semibold">Optimize Home Page</h3>
                    <p class="text-gray-500 text-sm">Debug using Chrome DevTools, check for overlapping...</p>
                    <p class="text-xs text-gray-400">Deadline: 21 March 2025</p>
                    <button class="btn btn-primary mt-2 w-full">Completed</button>
                </div>

                <!-- Task 4 -->
                <div class="bg-white p-4 rounded-lg shadow-md">
                    <h3 class="text-gray-700 font-semibold">Meta - Add new emoji</h3>
                    <p class="text-gray-500 text-sm">Debug using Chrome DevTools, check for overlapping...</p>
                    <p class="text-xs text-gray-400">Deadline: 21 March 2025</p>
                    <button class="btn btn-primary mt-2 w-full">Completed</button>
                </div>

                <!-- Task 5 -->
                <div class="bg-white p-4 rounded-lg shadow-md">
                    <h3 class="text-gray-700 font-semibold">Google LLC - Integrate OpenAI API</h3>
                    <p class="text-gray-500 text-sm">Debug using Chrome DevTools, check for overlapping...</p>
                    <p class="text-xs text-gray-400">Deadline: 21 March 2025</p>
                    <button class="btn btn-primary mt-2 w-full">Completed</button>
                </div>

                <!-- Task 6 -->
                <div class="bg-white p-4 rounded-lg shadow-md">
                    <h3 class="text-gray-700 font-semibold">Glassdoor - Improve Job Searching</h3>
                    <p class="text-gray-500 text-sm">Debug using Chrome DevTools, check for overlapping...</p>
                    <p class="text-xs text-gray-400">Deadline: 21 March 2025</p>
                    <button class="btn btn-primary mt-2 w-full">Completed</button>
                </div>
            </section>
        </div>
        <!-- activity log -->

        <aside class="bg-white p-4 rounded-lg shadow-md h-full">
            <div class=" flex flex-row gap-2 justify-center">
            <img src="assets/activity.png">
            <h2 class="font-semibold text-gray-600 text-xl text-black">Activity Log</h2>
            </div>
            <button id="clear-history-btn" class="btn btn-outline btn-primary w-full my-4">Clear History</button>
            <div id="activity-log">
                <p class="text-sm text-gray-500">You have completed the task Add Dark Mode at 12:48:15 PM</p>
            </div>
        </aside>
    </div>
    

    <script>
        // increase the task assigned count
        function increaseTaskAssigned() {
            const taskAssignedElement = document.getElementById("task-assigned-count");
            let currentCount = parseInt(taskAssignedElement.textContent);
            taskAssignedElement.textContent = currentCount + 1; // Increase by 1
        }

        // "Completed" button click
        document.querySelectorAll(".btn-primary").forEach(button => {
            button.addEventListener("click", function() {
                // Mark the task as completed
                this.classList.add("btn-disabled", "bg-gray-400");
                this.textContent = "Completed";
                this.disabled = true;

                // Increase the task assigned count
                increaseTaskAssigned();

                // Show the alert
                showAlert();

               
                const taskTitle = this.closest(".bg-white").querySelector("h3").textContent;
                addToActivityLog(taskTitle);
            });
        });

        //update activity log 
        function addToActivityLog(taskTitle) {
            const activityLog = document.getElementById("activity-log");

            // Get current time
            const now = new Date();
            const timeString = now.toLocaleTimeString();

            // Create new log entry
            const newLogEntry = document.createElement("p");
            newLogEntry.classList.add("text-sm", "text-gray-500");
            newLogEntry.textContent = `You have completed the task "${taskTitle}" at ${timeString}`;

            // new log entry to activity log
            activityLog.appendChild(newLogEntry);
        }

        // change the background color
        document.getElementById("color-change-button").addEventListener("click", function() {
            const randomColor = "#" + Math.floor(Math.random() * 16777215).toString(16);
            document.body.style.backgroundColor = randomColor;
        });

        // clear activity history
        document.getElementById("clear-history-btn").addEventListener("click", function() {
            const activityLog = document.getElementById("activity-log");
            activityLog.innerHTML = "";  
        });

        //show the alert
        function showAlert() {
            const alertBox = document.getElementById("alert-box");
            alertBox.classList.remove("hidden"); 

            // Hide the alert 
            setTimeout(function() {
                alertBox.classList.add("hidden");
            }, 3000);
        }

        // Update current date
        function updateDate() {
            const dateElement = document.getElementById("current-date");
            const today = new Date();
            const options = { weekday: 'short', month: 'short', day: '2-digit', year: 'numeric' };
            dateElement.textContent = today.toLocaleDateString('en-US', options);
        }

        updateDate();
    </script>
</body>
</html>